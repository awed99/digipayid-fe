!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2d7b64f9-528a-41ff-b1b2-1fd9204c1f5c",e._sentryDebugIdIdentifier="sentry-dbid-2d7b64f9-528a-41ff-b1b2-1fd9204c1f5c")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{65295:function(e,n,r){"use strict";r.d(n,{Z:function(){return x}});var t=r(87462),a=r(63366),i=r(67294),o=r(63961),s=r(94780),l=r(90948),u=r(28628),d=r(64680),c=r(1588),m=r(34867);function h(e){return(0,m.ZP)("MuiCard",e)}(0,c.Z)("MuiCard",["root"]);var p=r(85893);const f=["className","raised"],v=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,n)=>n.root})((()=>({overflow:"hidden"})));var x=i.forwardRef((function(e,n){const r=(0,u.i)({props:e,name:"MuiCard"}),{className:i,raised:l=!1}=r,d=(0,a.Z)(r,f),c=(0,t.Z)({},r,{raised:l}),m=(e=>{const{classes:n}=e;return(0,s.Z)({root:["root"]},h,n)})(c);return(0,p.jsx)(v,(0,t.Z)({className:(0,o.Z)(m.root,i),elevation:l?8:void 0,ref:n,ownerState:c},d))}))},41902:function(e,n,r){"use strict";r.r(n);var t=r(30266),a=r(92809),i=r(809),o=r.n(i),s=r(67294),l=r(41664),u=r(11163),d=r(96486),c=r(79930),m=r(77678),h=r(16310),p=r(91675),f=r(65049),v=r(96475),x=r(621),g=r(52288),y=r(54567),j=r(63906),Z=r(72574),w=r(65295),_=r(42643),b=r(14212),k=r(59062),C=r(67720),S=r(76446),T=r(56062),A=r(6867),O=r(80270),P=r(11091),N=r(90948),E=r(2734),z=r(94659),I=r(2658),M=r(52186),K=r(58883),W=r(79982),D=r(71300),F=r(3630),R=r(85893);var q=(0,N.ZP)(w.Z)((function(e){var n=e.theme;return(0,a.Z)({},n.breakpoints.up("sm"),{width:"28rem"})})),L=(0,N.ZP)("a")((function(e){return{cursor:"pointer",fontSize:"0.875rem",textDecoration:"none",color:e.theme.palette.primary.main,root:{"&[disabled]":{color:"grey",cursor:"default",textDecoration:"none","&:hover":{textDecoration:"none"}}}}})),B=(0,N.ZP)(T.Z)((function(e){var n=e.theme;return{marginTop:n.spacing(1.5),marginBottom:n.spacing(4),"& .MuiFormControlLabel-label":{fontSize:"0.875rem",color:n.palette.text.secondary}}})),U=function(){var e=h.Ry().shape({username:h.Z_().required(),merchant_name:h.Z_().required(),merchant_address:h.Z_().required(),merchant_wa:h.Rx().required(),email:h.Z_().email().required(),password:h.Z_().matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!?"'@#\$%\^&\*.,])(?=.{8,})/,"Min 8 Chars, Uppercase, Lowercase, Number and Special Character").required()}),n=(0,s.useState)(0),r=n[0],a=n[1],i=(0,s.useState)(!1),w=i[0],T=i[1],N=(0,s.useState)(!1),D=N[0],U=N[1],H=(0,s.useState)(!1),X=H[0],G=H[1],J=(0,s.useState)(),Q=J[0],V=J[1],Y=(0,s.useState)(0),$=Y[0],ee=Y[1],ne=(0,s.useState)(!1),re=ne[0],te=ne[1],ae=(0,s.useState)(!1),ie=ae[0],oe=ae[1],se=(0,s.useState)(""),le=se[0],ue=se[1],de=(0,s.useState)(""),ce=de[0],me=de[1],he=(0,s.useState)(!1),pe=he[0],fe=he[1],ve=(0,s.useState)({open:!1,type:"primary",message:""}),xe=ve[0],ge=ve[1],ye=(0,s.useState)({username:"",merchant_name:"",merchant_address:"",merchant_wa:"",email:"",password:""}),je=ye[0],Ze=ye[1],we=((0,E.Z)(),(0,u.useRouter)()),_e=function(){var e=(0,t.Z)(o().mark((function e(){var n,r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/check-auth",e.next=3,(0,f.Hl)(r);case 3:return t=e.sent,e.next=6,fetch("".concat(r),{method:"POST",headers:{"x-signature":null===t||void 0===t?void 0:t.signature,"x-timestamp":null===t||void 0===t?void 0:t.timestamp},body:JSON.stringify({email:null===(n=JSON.parse(localStorage.getItem("data-module")))||void 0===n?void 0:n.email})}).then((function(e){return e.json()})).then((function(e){var n,r;null!==e&&void 0!==e&&null!==(n=e.auth)&&void 0!==n&&n.user&&null!==e&&void 0!==e&&null!==(r=e.auth)&&void 0!==r&&r.token})).catch((function(){return!1}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){(0,x.r)("username","",je,Ze,e,V)}),[]);var be=function(){var n=(0,t.Z)(o().mark((function n(r){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(fe(!0),(0,d.values)(Q).map((function(e){if(e)return ge({open:!0,type:"error",message:"Error"==(0,d.values)(Q)[0]?"Fill all required fields!":(0,d.values)(Q)[0]}),void fe(!1)})),w){n.next=8;break}return ge({open:!0,type:"error",message:"Captcha is required!"}),fe(!1),n.abrupt("return",!1);case 8:if(!($<.5)){n.next=14;break}return ge({open:!0,type:"error",message:"High risk action detected!"}),fe(!1),n.abrupt("return",!1);case 14:return n.next=16,(0,v.eD)(r,e,je).catch((function(){return fe(!1)}));case 16:return t=n.sent,ge({open:!0,type:(null===t||void 0===t?void 0:t.code)>0?"error":"primary",message:(null===t||void 0===t?void 0:t.code)>0?null===t||void 0===t?void 0:t.error:null===t||void 0===t?void 0:t.message}),fe(!1),(null===t||void 0===t?void 0:t.code)<1&&te(!0),n.abrupt("return",!1);case 21:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ke=function(){var e=(0,t.Z)(o().mark((function e(n){var r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(!0),r={},"email"==n?r={type:"register_otp_email",email:je.email,otp_email:le}:"wa"==n&&(r={type:"register_otp_wa",merchant_wa:je.merchant_wa,otp_wa:ce}),e.next=5,(0,v.up)(r).catch((function(){return fe(!1)}));case 5:t=e.sent,ge({open:!0,type:(null===t||void 0===t?void 0:t.code)>0?"error":"primary",message:(null===t||void 0===t?void 0:t.code)>0?null===t||void 0===t?void 0:t.error:null===t||void 0===t?void 0:t.message}),fe(!1),(null===t||void 0===t?void 0:t.code)<1&&("email"==n?(te(!1),oe(!0)):(te(!1),oe(!1),we.push("/auth")));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,t.Z)(o().mark((function e(n){var r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(60),fe(!0),r={},"email"==n?r={type:"register_otp_email",email:je.email}:"wa"==n&&(r={type:"register_otp_wa",merchant_wa:je.merchant_wa}),e.next=6,(0,v.DH)(r).catch((function(){return fe(!1)}));case 6:t=e.sent,ge({open:!0,type:(null===t||void 0===t?void 0:t.code)>0?"error":"primary",message:(null===t||void 0===t?void 0:t.code)>0?null===t||void 0===t?void 0:t.error:null===t||void 0===t?void 0:t.message}),fe(!1);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){fetch("https://recaptchaenterprise.googleapis.com/v1/projects/telp-304809/assessments?key=".concat("AIzaSyAkYIUIohTKbGl6cNzgfhP50tzaFd74gK0"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({event:{token:w,expectedAction:"USER_ACTION",siteKey:"6LdDoq4nAAAAAMEthi6CA1Xj-N0sLQCxGya6xcT3"}})}).then((function(e){return e.json()})).then(function(){var e=(0,t.Z)(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee(null===n||void 0===n||null===(r=n.riskAnalysis)||void 0===r?void 0:r.score);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[w]),(0,s.useEffect)((function(){r>0&&setTimeout((function(){return a(r-1)}),1e3)}),[r]),(0,s.useLayoutEffect)((function(){_e()}),[]),(0,R.jsxs)(j.Z,{className:"content-center",children:[(0,R.jsx)(q,{sx:{zIndex:1},children:(0,R.jsxs)(_.Z,{sx:{padding:function(e){return"".concat(e.spacing(12,9,7)," !important")}},children:[(0,R.jsx)(j.Z,{sx:{mb:8,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,R.jsx)("img",{src:"/images/logo.png",width:70})}),(0,R.jsxs)(j.Z,{sx:{mb:6},children:[(0,R.jsxs)(I.Z,{variant:"h5",sx:{fontWeight:600,marginBottom:1.5},children:["Register ",W.Z.templateName," \ud83d\udc4b\ud83c\udffb"]}),(0,R.jsx)(I.Z,{variant:"body2",children:"Register dan rasakan pengalaman kemudahannya."})]}),(0,R.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return e.preventDefault()},children:[(0,R.jsx)(z.Z,{autoFocus:!0,fullWidth:!0,size:"small",id:"username",label:"Nama Lengkap",sx:{marginBottom:4},onChange:function(n){return(0,x.r)("username",n,je,Ze,e,V)},value:null===je||void 0===je?void 0:je.username,error:null===Q||void 0===Q?void 0:Q.username,helperText:null===Q||void 0===Q?void 0:Q.username}),(0,R.jsx)(z.Z,{autoFocus:!0,fullWidth:!0,size:"small",id:"merchant_name",label:"Nama Toko",sx:{marginBottom:4},onChange:function(n){return(0,x.r)("merchant_name",n,je,Ze,e,V)},value:null===je||void 0===je?void 0:je.merchant_name,error:null===Q||void 0===Q?void 0:Q.merchant_name,helperText:null===Q||void 0===Q?void 0:Q.merchant_name}),(0,R.jsx)(z.Z,{autoFocus:!0,fullWidth:!0,size:"small",id:"merchant_address",label:"Alamat Toko",sx:{marginBottom:4},onChange:function(n){return(0,x.r)("merchant_address",n,je,Ze,e,V)},value:null===je||void 0===je?void 0:je.merchant_address,error:null===Q||void 0===Q?void 0:Q.merchant_address,helperText:null===Q||void 0===Q?void 0:Q.merchant_address}),(0,R.jsx)(C.Z,{}),(0,R.jsx)(z.Z,{autoFocus:!0,fullWidth:!0,size:"small",id:"merchant_wa",label:"No. Whatsapp",sx:{marginBottom:4},onChange:function(n){return(0,x.r)("merchant_wa",n,je,Ze,e,V)},value:null===je||void 0===je?void 0:je.merchant_wa,error:null===Q||void 0===Q?void 0:Q.merchant_wa,helperText:null===Q||void 0===Q?void 0:Q.merchant_wa}),(0,R.jsx)(z.Z,{fullWidth:!0,size:"small",type:"email",label:"Email",sx:{marginBottom:4},onChange:function(n){return(0,x.r)("email",n,je,Ze,e,V)},value:null===je||void 0===je?void 0:je.email,error:null===Q||void 0===Q?void 0:Q.email,helperText:null===Q||void 0===Q?void 0:Q.email}),(0,R.jsx)(S.Z,{fullWidth:!0,children:(0,R.jsx)(z.Z,{fullWidth:!0,id:"standard-basic",label:"Password",variant:"outlined",size:"small",onChange:function(n){return(0,x.r)("password",n,je,Ze,e,V)},value:null===je||void 0===je?void 0:je.password,error:null===Q||void 0===Q?void 0:Q.password,helperText:null===Q||void 0===Q?void 0:Q.password,type:D?"text":"password",InputProps:{endAdornment:(0,R.jsx)(O.Z,{position:"end",children:(0,R.jsx)(A.Z,{edge:"end",onClick:function(){return U(!D)},"aria-label":"toggle password visibility",children:D?(0,R.jsx)(K.Z,{}):(0,R.jsx)(M.Z,{})})})}})}),(0,R.jsx)(j.Z,{sx:{mb:4,mt:4,display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},children:(0,R.jsx)(m.Z,{sitekey:"6LdDoq4nAAAAAMEthi6CA1Xj-N0sLQCxGya6xcT3",onChange:function(e){return T(e)}})}),(0,R.jsx)(B,{control:(0,R.jsx)(b.Z,{value:"isChecked",onChange:function(e){return G(!X)}}),label:(0,R.jsxs)(s.Fragment,{children:[(0,R.jsx)("span",{children:"Saya menyetujui "}),(0,R.jsx)(l.default,{href:"/",passHref:!0,children:(0,R.jsx)(L,{onClick:function(e){return G(!X)},children:"syarat & ketentuan"})})]})}),(0,R.jsx)(Z.Z,{disabled:!w||!X||Object.keys(Q).length>0,fullWidth:!0,size:"large",type:"submit",variant:"contained",sx:{marginBottom:7},onClick:function(e){return be(e)},children:"Register"}),(0,R.jsxs)(j.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:[(0,R.jsx)(I.Z,{variant:"body2",sx:{marginRight:2},children:"Sudah punya akun?"}),(0,R.jsx)(I.Z,{variant:"body2",children:(0,R.jsx)(l.default,{passHref:!0,href:"/auth",children:(0,R.jsx)(L,{children:"Silakan Login"})})})]})]})]})}),(0,R.jsx)(F.Z,{}),(0,R.jsx)(y.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+999999}},open:pe,children:(0,R.jsx)(k.Z,{color:"primary",size:100,variant:"indeterminate"})}),(0,R.jsx)(P.Z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:null===xe||void 0===xe?void 0:xe.open,autoHideDuration:3e3,onClose:function(){return ge({open:!1,type:null===xe||void 0===xe?void 0:xe.type,message:""})},children:(0,R.jsx)(g.Z,{variant:"filled",severity:null===xe||void 0===xe?void 0:xe.type,sx:{width:"100%"},children:null===xe||void 0===xe?void 0:xe.message})}),(0,R.jsxs)(p.Z,{titleModal:"Konfirmasi OTP Email",openModal:re,setOpenModal:te,handleSubmitFunction:function(){return ke("email")},children:[(0,R.jsxs)(I.Z,{children:["Kode OTP Email anda sudah dikirim ke Email anda ",null===je||void 0===je?void 0:je.email,"."]}),(0,R.jsx)(I.Z,{children:"Silahkan konfirmasikan dengan memasukkan kode OTP Melalui Email."}),(0,R.jsx)(j.Z,{sx:{p:10},children:(0,R.jsx)(c.hF,{length:6,value:le,onChange:function(e){return ue(e)}})}),(0,R.jsx)(j.Z,{children:(0,R.jsx)(I.Z,{variant:"body2",children:0==r?(0,R.jsx)(L,{onClick:function(e){return Ce("email")},children:"Kirim Ulang Kode OTP"}):(0,R.jsxs)(L,{disabled:!0,sx:{color:"gray"},children:["Kirim Ulang Kode OTP dalam (",r,")"]})})})]}),(0,R.jsxs)(p.Z,{titleModal:"Konfirmasi OTP WhatsApp",openModal:ie,setOpenModal:oe,handleSubmitFunction:function(){return ke("wa")},children:[(0,R.jsxs)(I.Z,{children:["Kode OTP Email anda sudah dikirim ke WhatsApp anda ",null===je||void 0===je?void 0:je.merchant_wa,"."]}),(0,R.jsx)(I.Z,{children:"Silahkan konfirmasikan dengan memasukkan kode OTP Melalui WhatsApp."}),(0,R.jsx)(j.Z,{sx:{p:10},children:(0,R.jsx)(c.hF,{length:6,value:ce,onChange:function(e){return me(e)}})}),(0,R.jsx)(j.Z,{children:(0,R.jsx)(I.Z,{variant:"body2",children:0==r?(0,R.jsx)(L,{onClick:function(e){return Ce("wa")},children:"Kirim Ulang Kode OTP"}):(0,R.jsxs)(L,{disabled:!0,sx:{color:"gray"},children:["Kirim Ulang Kode OTP dalam (",r,")"]})})})]})]})};U.getLayout=function(e){return(0,R.jsx)(D.Z,{children:e})},n.default=U},57938:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return r(41902)}])}},function(e){e.O(0,[3662,2259,6110,6310,7562,9770,2674,9774,2888,179],(function(){return n=57938,e(e.s=n);var n}));var n=e.O();_N_E=n}]);