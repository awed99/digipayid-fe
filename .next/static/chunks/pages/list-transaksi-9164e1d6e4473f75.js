!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f177f3cb-d344-4335-a173-7ee5873ed2a0",e._sentryDebugIdIdentifier="sentry-dbid-f177f3cb-d344-4335-a173-7ee5873ed2a0")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7318],{52910:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list-transaksi",function(){return i(81951)}])},39626:function(e,t,i){"use strict";var n=i(64836);t.Z=void 0;var a=n(i(47955)),l=i(85893);t.Z=(0,a.default)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},56499:function(e,t,i){"use strict";var n=i(57680),a=i(85893);t.Z=(0,n.Z)([(0,a.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,a.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime")},47955:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=i(63115)},49346:function(e,t,i){"use strict";var n=i(87462),a=i(63366),l=i(67294),o=i(92827),d=i(58510),r=i(94246),s=i(89262),u=i(36522),c=i(1493),h=i(76529),v=i(85893);let m=["className","id"],p=e=>{let{classes:t}=e;return(0,d.Z)({root:["root"]},c.a,t)},x=(0,s.ZP)(r.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),g=l.forwardRef(function(e,t){let i=(0,u.i)({props:e,name:"MuiDialogTitle"}),{className:d,id:r}=i,s=(0,a.Z)(i,m),c=p(i),{titleId:g=r}=l.useContext(h.Z);return(0,v.jsx)(x,(0,n.Z)({component:"h2",className:(0,o.Z)(c.root,d),ownerState:i,ref:t,variant:"h6",id:null!=r?r:g},s))});t.Z=g},39852:function(e,t,i){"use strict";i.d(t,{Z:function(){return h}});var n=i(85893),a=i(16829),l=i(14440),o=i(10586),d=i(62950),r=i(50720),s=i(27484),u=i.n(s),c=i(67294);function h(e){let{onChange:t}=e,[i,a]=(0,c.useState)(u()().startOf("month")),[s,h]=(0,c.useState)(u()().endOf("month"));return(0,c.useEffect)(()=>{t&&t(u()(i).format("YYYY-MM-DD"),u()(s).format("YYYY-MM-DD"))},[u()(i).format("YYYY-MM-DD"),u()(s).format("YYYY-MM-DD"),s]),(0,n.jsx)(l.Z,{sx:{display:"inline-block",verticalAlign:"middle"},children:(0,n.jsxs)(r._,{dateAdapter:o.y,children:[(0,n.jsx)(d.M,{label:"Start Date",value:i,onChange:e=>a(e),maxDate:null!=s?s:null,sx:{m:3}}),"â€ƒ",(0,n.jsx)(d.M,{label:"End Date",value:s,onChange:e=>h(e),minDate:u()(i),maxDate:u()(i).add(3,"month").endOf("month"),sx:{m:3}})]})})}(0,a.Z)("div")(()=>({display:"flex",alignItems:"center"}))},23241:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var n=i(85893),a=i(39626),l=i(98163),o=i(15733),d=i(25008),r=i(9131),s=i(49346),u=i(33367),c=i(89262),h=i(67294);let v=(0,c.ZP)(o.Z)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}});function m(e){let{children:t,titleModal:i="Title Modal",ButtonDialogs:o=!1,handleSubmitFunction:c=!1,openModal:m=!1,setOpenModal:p}=e,[x,g]=h.useState(!1),f=()=>{g(!1),p(!1)},y=e=>(0,n.jsx)(l.Z,{variant:"contained",size:"small",sx:{m:3},onClick:e,children:"Submit"});return h.useEffect(()=>{g(m)},[m]),(0,n.jsx)(h.Fragment,{children:(0,n.jsxs)(v,{onClose:f,"aria-labelledby":"customized-dialog-title",open:x,fullWidth:!0,maxWidth:"md",children:[(0,n.jsx)(s.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:i}),(0,n.jsx)(u.Z,{"aria-label":"close",onClick:f,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,n.jsx)(a.Z,{})}),(0,n.jsx)(r.Z,{dividers:!0,children:t}),(0,n.jsx)(d.Z,{children:c?y(c):o||y(f)})]})})}},71003:function(e,t,i){"use strict";i.d(t,{Z:function(){return o}});var n=i(85893),a=i(14440);let l=(0,i(89262).ZP)("div")(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===t.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===t.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===t.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===t.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===t.palette.mode?"0.8":"0.08",fill:"light"===t.palette.mode?"#f5f5f5":"#fff"}}});function o(){return(0,n.jsxs)(l,{children:[(0,n.jsx)("svg",{style:{flexShrink:0},width:"240",height:"200",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,n.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,n.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,n.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,n.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,n.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,n.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,n.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,n.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,n.jsx)(a.Z,{sx:{mt:1},children:"No Rows"})]})}},80627:function(e,t,i){"use strict";i.d(t,{Z:function(){return u}});var n=i(85893),a=i(26951),l=i(49630),o=i(14696),d=i(48949),r=i(76443);function s(e){let{page:t,onPageChange:i,className:r}=e,s=(0,l.l)(),u=(0,o.P)(s,d.UB);return(0,n.jsx)(a.Z,{color:"primary",className:r,count:u,page:t+1,onChange:(e,t)=>{i(e,t-1)}})}function u(e){return(0,n.jsx)(r.x,{ActionsComponent:s,...e})}},81951:function(e,t,i){"use strict";i.r(t);var n=i(85893),a=i(98163),l=i(21946),o=i(73821),d=i(59505),r=i(34934),s=i(16268),u=i(80888),c=i(91093),h=i(4466),v=i(77574),m=i(94246),p=i(67294),x=i(11163),g=i(31621),f=i(56499),y=i(12641),j=i(14440),b=i(35470),_=i(27798),Z=i(71003),S=i(63105),w=i.n(S),k=i(30381),I=i.n(k),M=i(39852),N=i(23241),C=i(98115),O=i(80627),z=i(27484),D=i.n(z);t.default=()=>{var e,t,S,k,z,T,P,H,Y,J,A,E,R,B,F,L,U,V,W,q,K,Q,G,X,$,ee=i(81354);let[et,ei]=(0,p.useState)(!1),[en,ea]=(0,p.useState)(!1),[el,eo]=(0,p.useState)(!1),[ed,er]=(0,p.useState)([]),[es,eu]=(0,p.useState)([]),[ec,eh]=(0,p.useState)([]),[ev,em]=(0,p.useState)(!1),[ep,ex]=(0,p.useState)(!1),[eg,ef]=(0,p.useState)(!1),[ey,ej]=(0,p.useState)({}),[eb,e_]=(0,p.useState)(null),[eZ,eS]=(0,p.useState)({open:!1,type:"success",message:""}),ew=(0,x.useRouter)(),ek=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D()().startOf("month").format("YYYY-MM-DD"),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D()().endOf("month").format("YYYY-MM-DD");eo(!0);let n=await (0,C.Hl)("/api/check-auth");fetch("".concat("https://be.digipayid.com","/auth/check_auth"),{method:"POST",headers:{"x-signature":null==n?void 0:n.signature,"x-timestamp":null==n?void 0:n.timestamp},body:JSON.stringify({email:null===(e=JSON.parse(localStorage.getItem("data-module")))||void 0===e?void 0:e.email})}).then(e=>e.json()).then(async e=>{var t,i;return(null==e?void 0:null===(t=e.auth)||void 0===t?void 0:t.user)===void 0||(null==e?void 0:null===(i=e.auth)||void 0===i?void 0:i.token)===void 0?(ew.push("/auth"),!1):e}).then(async e=>{var n,a;let l="/transactions/orders/list",o=await (0,C.Hl)(l);fetch("".concat("https://be.digipayid.com").concat(l),{method:"POST",headers:{"x-signature":null==o?void 0:o.signature,"x-timestamp":null==o?void 0:o.timestamp,Authorization:await ee.AES.decrypt(null!==(a=null==e?void 0:null===(n=e.auth)||void 0===n?void 0:n.token)&&void 0!==a?a:"","digipay10D3w@").toString(ee.enc.Utf8).replace(/\"/g,"")},body:JSON.stringify({start_date:t,end_date:i})}).then(e=>e.json()).then(e=>{er(null==e?void 0:e.data),eo(!1)}).catch(()=>eo(!1))}).catch(()=>eo(!1))},eI=async e=>{var t;eo(!0);let i=await (0,C.Hl)("/api/check-auth");fetch("".concat("https://be.digipayid.com","/auth/check_auth"),{method:"POST",headers:{"x-signature":null==i?void 0:i.signature,"x-timestamp":null==i?void 0:i.timestamp},body:JSON.stringify({email:null===(t=JSON.parse(localStorage.getItem("data-module")))||void 0===t?void 0:t.email})}).then(e=>e.json()).then(async e=>{var t,i;return(null==e?void 0:null===(t=e.auth)||void 0===t?void 0:t.user)===void 0||(null==e?void 0:null===(i=e.auth)||void 0===i?void 0:i.token)===void 0?(ew.push("/auth"),!1):e}).then(async t=>{var i,n;let a="/transactions/orders/resend_billing",l=await (0,C.Hl)(a);fetch("".concat("https://be.digipayid.com").concat(a),{method:"POST",headers:{"x-signature":null==l?void 0:l.signature,"x-timestamp":null==l?void 0:l.timestamp,Authorization:await ee.AES.decrypt(null!==(n=null==t?void 0:null===(i=t.auth)||void 0===i?void 0:i.token)&&void 0!==n?n:"","digipay10D3w@").toString(ee.enc.Utf8).replace(/\"/g,"")},body:JSON.stringify({invoice_number:e})}).then(e=>e.json()).then(e=>{eS({open:!0,type:"success",message:"Sukses mengirim ulang tagihan"}),eo(!1)}).catch(()=>eo(!1))}).catch(()=>eo(!1))},eM=async e=>{var t;let i=w()(ed,["invoice_number",e])[0];ej(i);let n=await (0,C.Hl)("/api/check-auth");fetch("".concat("https://be.digipayid.com","/auth/check_auth"),{method:"POST",headers:{"x-signature":null==n?void 0:n.signature,"x-timestamp":null==n?void 0:n.timestamp},body:JSON.stringify({email:null===(t=JSON.parse(localStorage.getItem("data-module")))||void 0===t?void 0:t.email})}).then(e=>e.json()).then(async e=>{var t,i;return(null==e?void 0:null===(t=e.auth)||void 0===t?void 0:t.user)===void 0||(null==e?void 0:null===(i=e.auth)||void 0===i?void 0:i.token)===void 0?(ew.push("/auth"),!1):e}).then(async e=>{var t,n;let a="/transactions/orders/get_products",l=await (0,C.Hl)(a);fetch("".concat("https://be.digipayid.com").concat(a),{method:"POST",headers:{"x-signature":null==l?void 0:l.signature,"x-timestamp":null==l?void 0:l.timestamp,Authorization:await ee.AES.decrypt(null!==(n=null==e?void 0:null===(t=e.auth)||void 0===t?void 0:t.token)&&void 0!==n?n:"","digipay10D3w@").toString(ee.enc.Utf8).replace(/\"/g,"")},body:JSON.stringify({invoice_number:null==i?void 0:i.invoice_number})}).then(e=>e.json()).then(e=>{eu(null==e?void 0:e.data),em(!0)}).catch(()=>!1)}).catch(()=>!1)},eN=async()=>{var e;let t=await (0,C.Hl)("/api/check-auth");fetch("".concat("https://be.digipayid.com","/auth/check_auth"),{method:"POST",headers:{"x-signature":null==t?void 0:t.signature,"x-timestamp":null==t?void 0:t.timestamp},body:JSON.stringify({email:null===(e=JSON.parse(localStorage.getItem("data-module")))||void 0===e?void 0:e.email})}).then(e=>e.json()).then(async e=>{var t,i;return(null==e?void 0:null===(t=e.auth)||void 0===t?void 0:t.user)===void 0||(null==e?void 0:null===(i=e.auth)||void 0===i?void 0:i.token)===void 0?(ew.push("/auth"),!1):e}).then(async e=>{var t,i;let n="/transactions/orders/cancel_transaction",a=await (0,C.Hl)(n);fetch("".concat("https://be.digipayid.com").concat(n),{method:"POST",headers:{"x-signature":null==a?void 0:a.signature,"x-timestamp":null==a?void 0:a.timestamp,Authorization:await ee.AES.decrypt(null!==(i=null==e?void 0:null===(t=e.auth)||void 0===t?void 0:t.token)&&void 0!==i?i:"","digipay10D3w@").toString(ee.enc.Utf8).replace(/\"/g,"")},body:JSON.stringify({invoice_number:null==ey?void 0:ey.invoice_number})}).then(e=>e.json()).then(e=>{er(null==e?void 0:e.data),em(!1),ex(!1)}).catch(()=>!1)}).catch(()=>!1)};(0,p.useEffect)(()=>()=>{ei(!1)},[]),(0,p.useEffect)(()=>{!0===et&&eb&&setTimeout(()=>eC(eb,0),5e3)},[et,eb]);let eC=async function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(!et)return!1;let n=await (0,C.Hl)("/api/check-auth");fetch("".concat("https://be.digipayid.com","/auth/check_auth"),{method:"POST",headers:{"x-signature":null==n?void 0:n.signature,"x-timestamp":null==n?void 0:n.timestamp},body:JSON.stringify({email:null===(t=JSON.parse(localStorage.getItem("data-module")))||void 0===t?void 0:t.email})}).then(e=>e.json()).then(async e=>{var t,i;return(null==e?void 0:null===(t=e.auth)||void 0===t?void 0:t.user)===void 0||(null==e?void 0:null===(i=e.auth)||void 0===i?void 0:i.token)===void 0?(ew.push("/auth"),!1):e}).then(async t=>{var n,a;let l="/transactions/orders/check_status",o=await (0,C.Hl)(l);fetch("".concat("https://be.digipayid.com").concat(l),{method:"POST",headers:{"x-signature":null==o?void 0:o.signature,"x-timestamp":null==o?void 0:o.timestamp,Authorization:await ee.AES.decrypt(null!==(a=null==t?void 0:null===(n=t.auth)||void 0===n?void 0:n.token)&&void 0!==a?a:"","digipay10D3w@").toString(ee.enc.Utf8).replace(/\"/g,"")},body:JSON.stringify({invoice_number:e})}).then(e=>e.json()).then(t=>{if(parseInt(null==t?void 0:t.status)>0)eS({open:!0,type:"success",message:"Pembayaran Berhasil."}),ef(!1),em(!1),ea(!0),ei(!1),e_(null),ek();else{var n;i+=1,!0===et&&(null==ec?void 0:null===(n=ec.req)||void 0===n?void 0:n.reff_id)&&i<10?setTimeout(()=>eC(e,i),5e3):ei(!1)}eo(!1)}).catch(()=>eo(!1))}).catch(()=>eo(!1))},eO=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ey,i=await (0,C.Hl)("/api/check-auth");eo(!0),fetch("".concat("https://be.digipayid.com","/auth/check_auth"),{method:"POST",headers:{"x-signature":null==i?void 0:i.signature,"x-timestamp":null==i?void 0:i.timestamp},body:JSON.stringify({email:null===(e=JSON.parse(localStorage.getItem("data-module")))||void 0===e?void 0:e.email})}).then(e=>e.json()).then(async e=>{var t,i;return(null==e?void 0:null===(t=e.auth)||void 0===t?void 0:t.user)===void 0||(null==e?void 0:null===(i=e.auth)||void 0===i?void 0:i.token)===void 0?(ew.push("/auth"),!1):e}).then(async e=>{var i,n;let a="/transactions/journal/check_deposit_ewallet",l=await (0,C.Hl)(a);fetch("".concat("https://be.digipayid.com").concat(a),{method:"POST",headers:{"x-signature":null==l?void 0:l.signature,"x-timestamp":null==l?void 0:l.timestamp,Authorization:ee.AES.decrypt(null!==(n=null==e?void 0:null===(i=e.auth)||void 0===i?void 0:i.token)&&void 0!==n?n:"","digipay10D3w@").toString(ee.enc.Utf8).replace(/\"/g,"")},body:JSON.stringify({invoice_number:null==t?void 0:t.invoice_number,amount:null==t?void 0:t.amount_to_pay,payment_method:null==t?void 0:t.payment_method_code})}).then(e=>e.json()).then(e=>{e_(null==t?void 0:t.invoice_number),eh(null==e?void 0:e.payment),ef(!0),eo(!1)})}).catch(()=>eo(!1))};return(0,p.useLayoutEffect)(()=>{localStorage.getItem("data-module")||ew.push("/auth")},[]),(0,p.useLayoutEffect)(()=>{!1===eg&&(e_(null),ei(!1))},[eg]),(0,n.jsxs)(h.ZP,{container:!0,spacing:6,children:[(0,n.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,n.jsx)(m.Z,{variant:"h5",children:(0,n.jsx)(v.Z,{children:"List Transaksi"})}),(0,n.jsx)(m.Z,{variant:"body2",children:"List Transaksi"})]}),(0,n.jsx)(h.ZP,{item:!0,xs:12,children:(0,n.jsx)(o.Z,{children:(0,n.jsxs)(j.Z,{sx:{width:"100%",overflow:"auto"},children:[(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(M.Z,{onChange:(e,t)=>ek(e,t)})," â€ƒ",(0,n.jsx)(a.Z,{onClick:()=>ek(),variant:"contained",children:"Refresh"})]}),(0,n.jsx)(b._$,{density:"compact",autoHeight:!0,rows:ed,columns:[{field:"invoice_number",headerName:"No. Invoice",width:200,renderCell:e=>(0,n.jsx)(a.Z,{size:"small",variant:"contained",onClick:()=>{var t;return eM(null==e?void 0:null===(t=e.row)||void 0===t?void 0:t.invoice_number)},children:null==e?void 0:e.value})},{field:"status_transaction",headerName:"Status",width:200,renderCell:e=>2===parseInt(null==e?void 0:e.value)?(0,n.jsx)(l.Z,{label:"Selesai",color:"success",deleteIcon:(0,n.jsx)(g.Z,{}),onClick:()=>{var t;return eM(null==e?void 0:null===(t=e.row)||void 0===t?void 0:t.invoice_number)},size:"small",sx:{height:24,fontSize:"0.75rem",textTransform:"capitalize","& .MuiChip-label":{fontWeight:500}}}):1===parseInt(null==e?void 0:e.value)?(0,n.jsx)(l.Z,{label:"Terbayar",color:"primary",deleteIcon:(0,n.jsx)(g.Z,{}),onClick:()=>{var t;return eM(null==e?void 0:null===(t=e.row)||void 0===t?void 0:t.invoice_number)},size:"small",sx:{height:24,fontSize:"0.75rem",textTransform:"capitalize","& .MuiChip-label":{fontWeight:500}}}):0===parseInt(null==e?void 0:e.value)?(0,n.jsx)(l.Z,{size:"small",label:"Menunggu Pembayaran",color:"warning",deleteIcon:(0,n.jsx)(f.Z,{}),onClick:()=>{var t;return eM(null==e?void 0:null===(t=e.row)||void 0===t?void 0:t.invoice_number)},sx:{height:24,fontSize:"0.75rem",textTransform:"capitalize","& .MuiChip-label":{fontWeight:500}}}):(0,n.jsx)(l.Z,{size:"small",label:"Batal",color:"error",deleteIcon:(0,n.jsx)(y.Z,{}),onClick:()=>{var t;return eM(null==e?void 0:null===(t=e.row)||void 0===t?void 0:t.invoice_number)},sx:{height:24,fontSize:"0.75rem",textTransform:"capitalize","& .MuiChip-label":{fontWeight:500}}})},{field:"payment_method_name",headerName:"Metode Bayar",type:"number",width:150},{field:"total_product",headerName:"Jml Produk",type:"number",width:110,renderCell:e=>(0,C.j7)((null==e?void 0:e.value).toString())},{field:"amount_to_pay",headerName:"Dibayar",type:"number",width:110,renderCell:e=>(0,C.j7)((null==e?void 0:e.value).toString())},{field:"amount_to_back",headerName:"Kembalian",type:"number",width:110,renderCell:e=>(0,C.j7)("-"+(null==e?void 0:e.value).toString())},{field:"amount",headerName:"Sub Total",type:"number",width:110,renderCell:e=>(0,C.j7)((null==e?void 0:e.value).toString())},{field:"amount_tax",headerName:"Pajak",type:"number",width:110,renderCell:e=>(0,C.j7)("-"+(null==e?void 0:e.value).toString())},{field:"fee",headerName:"Fee",type:"number",width:110,renderCell:e=>(0,C.j7)("-"+(null==e?void 0:e.value).toString())},{field:"amount_to_receive",headerName:"DIterima",type:"number",width:110,renderCell:e=>(0,C.j7)((null==e?void 0:e.value).toString())},{field:"time_transaction",headerName:"Tanggal Transaksi",width:250,renderCell:e=>I()(null==e?void 0:e.value).format("ddd, DD MMM YYYY - HH:mm")}],getRowId:e=>e.id_transaction,initialState:{...ed.initialState,pagination:{paginationModel:{pageSize:25}}},slots:{toolbar:_.n,noRowsOverlay:Z.Z,footer:()=>{var e,t,i,a,l,o;return(0,n.jsxs)(j.Z,{sx:{p:3},children:[(0,n.jsx)(d.Z,{}),(0,n.jsx)(j.Z,{children:(0,n.jsx)(O.Z,{})}),(0,n.jsx)(d.Z,{}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)("b",{children:["Jumlah Produk :",(0,C.j7)(null==ed?void 0:null===(e=ed.reduce((e,t)=>parseInt(e)+parseInt(null==t?void 0:t.total_product),0))||void 0===e?void 0:e.toString())]})}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)("b",{children:["Transaksi Kliring :",(0,C.j7)(null===(t=w()(ed,["status_transaction","1"]))||void 0===t?void 0:t.length)]})}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)("b",{children:["Transaksi Sukses :",(0,C.j7)(null===(i=w()(ed,["status_transaction","2"]))||void 0===i?void 0:i.length)]})}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)("b",{children:["Transaksi Belum terbayar :",(0,C.j7)(null===(a=w()(ed,["status_transaction","0"]))||void 0===a?void 0:a.length)]})}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)("b",{children:["Transaksi Batal :",(0,C.j7)(null===(l=w()(ed,["status_transaction","9"]))||void 0===l?void 0:l.length)]})}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)("b",{children:["Total Terbayar : IDR"," ",(0,C.j7)(null===(o=w()(ed,e=>(null==e?void 0:e.status_transaction)==="2"||(null==e?void 0:e.status_transaction)==="1"))||void 0===o?void 0:o.reduce((e,t)=>parseInt(e)+parseInt(null==t?void 0:t.amount),0))]})})]})}},slotProps:{toolbar:{showQuickFilter:!0}},sx:{pt:2,minHeight:"350px","--DataGrid-overlayHeight":"300px"},disableRowSelectionOnClick:!0})]})})}),(0,n.jsx)(N.Z,{titleModal:"List Produk Transaksi "+(null==ey?void 0:ey.invoice_number),openModal:ev,setOpenModal:em,ButtonDialogs:(0,n.jsx)(j.Z,{sx:{display:"block",width:"100%"},children:(0,n.jsxs)(j.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(null==ey?void 0:ey.status_transaction)==="0"&&(0,n.jsx)(a.Z,{variant:"contained",color:"error",size:"small",sx:{m:3,float:"left"},style:{float:"left"},onClick:()=>ex(!0),children:"Batalkan"}),(null==ey?void 0:ey.status_transaction)==="0"&&(0,n.jsx)(a.Z,{variant:"contained",color:"success",size:"small",sx:{m:3},onClick:()=>eO(ey),children:"Bayar"}),(0,n.jsx)(a.Z,{variant:"contained",size:"small",sx:{m:3},onClick:()=>em(!1),children:"Tutup"})]})}),children:(0,n.jsx)(j.Z,{sx:{width:"100%"},children:(0,n.jsx)(h.ZP,{item:!0,xs:12,children:(0,n.jsx)(o.Z,{children:(0,n.jsx)(j.Z,{sx:{width:"100%",overflow:"auto"},children:(0,n.jsx)(b._$,{density:"compact",autoHeight:!0,rows:es,columns:[{field:"product_code",headerName:"Kode",width:125},{field:"product_name",headerName:"Nama Produk",width:200},{field:"product_qty",headerName:"Jumlah",type:"number",width:80},{field:"product_price",headerName:"Harga",width:120,type:"number",renderCell:e=>(0,C.j7)(null==e?void 0:e.value)},{field:"product_image_url",headerName:"Image",width:120,renderCell:e=>(0,n.jsx)("img",{src:"".concat("https://be.digipayid.com")+(null==e?void 0:e.value),width:100})}],getRowId:e=>e.id_product,initialState:{...ed.initialState,pagination:{paginationModel:{pageSize:25}}},slots:{toolbar:_.n,noRowsOverlay:Z.Z,footer:()=>{var e,t;return(0,n.jsxs)(j.Z,{sx:{p:3},children:[(0,n.jsx)(d.Z,{}),(0,n.jsx)(j.Z,{children:(0,n.jsx)(O.Z,{})}),(0,n.jsx)(d.Z,{}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)("b",{children:[null==es?void 0:es.length," Produk"]})}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)("b",{children:["Jumlah Item :"," ",(0,C.j7)(null==es?void 0:null===(e=es.reduce((e,t)=>parseInt(e)+parseInt(null==t?void 0:t.product_qty),0))||void 0===e?void 0:e.toString())]})}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)("b",{children:["Total :"," ",(0,C.j7)(null==es?void 0:null===(t=es.reduce((e,t)=>parseInt(e)+parseInt(null==t?void 0:t.product_price)*parseInt(null==t?void 0:t.product_qty),0))||void 0===t?void 0:t.toString())]})})]})}},slotProps:{toolbar:{showQuickFilter:!0}},sx:{pt:2,minHeight:"350px","--DataGrid-overlayHeight":"300px"}})})})})})}),(0,n.jsx)(N.Z,{titleModal:"Konfirmasi Batalkan Transaksi",openModal:ep,setOpenModal:ex,handleSubmitFunction:eN,children:(0,n.jsxs)(j.Z,{children:["Apakah anda yakin ingin membatalkan transaksi ",(0,n.jsx)("b",{children:null==ey?void 0:ey.invoice_number})," ?"]})}),(0,n.jsx)(N.Z,{titleModal:"Form Pembayaran "+(null==ey?void 0:ey.invoice_number),openModal:eg,setOpenModal:ef,children:(0,n.jsx)(j.Z,{alignItems:"center",justify:"center",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},children:(0,n.jsxs)(j.Z,{style:{width:550,textAlign:"center"},children:[(0,n.jsx)(j.Z,{children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)("h3",{children:["IDR ",(0,C.j7)(null!==(Q=null==ec?void 0:null===(t=ec.res)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.total_bayar)&&void 0!==Q?Q:"0")]})})}),(0,n.jsx)(j.Z,{children:(0,n.jsx)(m.Z,{children:"Berlaku dalam 10 Menit"})}),(0,n.jsx)(j.Z,{children:(0,n.jsxs)(m.Z,{children:["Metode Pembayaran : ",null!==(G=null==ey?void 0:ey.payment_method_name)&&void 0!==G?G:"QRIS"]})}),(0,n.jsx)(j.Z,{children:18==parseInt(null==ey?void 0:ey.id_payment_method)||19==parseInt(null==ey?void 0:ey.id_payment_method)?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("img",{src:"".concat("https://be.digipayid.com","/").concat(null==ec?void 0:ec.image_src)})}):parseInt(null==ey?void 0:ey.id_payment_method)>=11&&17>=parseInt(null==ey?void 0:ey.id_payment_method)||parseInt(null==ey?void 0:ey.id_payment_method)>=20&&23>=parseInt(null==ey?void 0:ey.id_payment_method)||parseInt(null==ey?void 0:ey.id_payment_method)>=35&&37>=parseInt(null==ey?void 0:ey.id_payment_method)?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("a",{href:null!==($=null!==(X=null==ec?void 0:null===(k=ec.res)||void 0===k?void 0:null===(S=k.data)||void 0===S?void 0:S.ovo_push)&&void 0!==X?X:null==ec?void 0:null===(T=ec.res)||void 0===T?void 0:null===(z=T.data)||void 0===z?void 0:z.checkout_url)&&void 0!==$?$:null==ec?void 0:null===(H=ec.res)||void 0===H?void 0:null===(P=H.data)||void 0===P?void 0:P.pay_url,target:"_blank",children:(0,n.jsxs)(a.Z,{variant:"contained",size:"small",sx:{m:3},children:["Bayar ",null==ey?void 0:ey.payment_method_name]})})}):parseInt(null==ey?void 0:ey.id_payment_method)>=1&&10>=parseInt(null==ey?void 0:ey.id_payment_method)?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(m.Z,{children:["Nomor Rekening Tujuan :"," ",(0,n.jsx)("b",{children:(0,C.Qn)(4===parseInt(null==ey?void 0:ey.id_payment_method)?"70017"+(null==ec?void 0:null===(J=ec.res)||void 0===J?void 0:null===(Y=J.data)||void 0===Y?void 0:Y.nomor_va):""+(null==ec?void 0:null===(E=ec.res)||void 0===E?void 0:null===(A=E.data)||void 0===A?void 0:A.nomor_va))})]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(m.Z,{children:["Nomor Rekening Tujuan :"," ",(0,n.jsx)("b",{children:(0,C.Qn)("4"===parseInt(null==ey?void 0:ey.id)?"70017"+(null==ec?void 0:null===(B=ec.res)||void 0===B?void 0:null===(R=B.data)||void 0===R?void 0:R.nomor_va):""+(null==ec?void 0:null===(L=ec.res)||void 0===L?void 0:null===(F=L.data)||void 0===F?void 0:F.nomor_va))})]})})}),(0,n.jsx)(j.Z,{children:(0,n.jsx)(m.Z,{children:(0,n.jsx)(d.Z,{children:"Status Pembayaran"})})}),(0,n.jsxs)(j.Z,{sx:{position:"relative"},children:[(0,n.jsx)(a.Z,{variant:"contained",size:"small",sx:{m:3},disabled:et,onClick:()=>ei(!0),children:et?"Dalam Pengecekan":"Cek Status Pembayaran"}),et&&(0,n.jsx)(r.Z,{size:24,sx:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]}),(0,n.jsx)(j.Z,{children:(0,n.jsx)(m.Z,{children:(0,n.jsx)(d.Z,{children:"atau"})})}),(0,n.jsx)(j.Z,{children:(0,n.jsx)(a.Z,{variant:"contained",size:"small",color:"warning",sx:{m:3},onClick:()=>{var e;return eI(null==ec?void 0:null===(e=ec.req)||void 0===e?void 0:e.reff_id)},children:"Kirim Ulang Tagihan (WA/Email)"})})]})})}),(0,n.jsx)(N.Z,{titleModal:"Notifikasi",openModal:en,setOpenModal:ea,children:(0,n.jsx)(j.Z,{alignItems:"center",justify:"center",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},children:(0,n.jsxs)(j.Z,{style:{width:550,paddingBottom:15,textAlign:"center"},children:[(0,n.jsxs)(m.Z,{children:["Transaksi ",(0,n.jsx)("b",{children:null==ec?void 0:null===(U=ec.req)||void 0===U?void 0:U.reff_id})]}),(0,n.jsx)(m.Z,{children:"telah dibayar"}),(null==ec?void 0:null===(W=ec.res)||void 0===W?void 0:null===(V=W.data)||void 0===V?void 0:V.total_bayar)?(0,n.jsxs)(m.Z,{variant:"h5",children:["IDR ",(0,C.j7)(null==ec?void 0:null===(K=ec.res)||void 0===K?void 0:null===(q=K.data)||void 0===q?void 0:q.total_bayar)]}):(0,n.jsx)(m.Z,{variant:"h5",children:"Dengan uang tunai."})]})})}),(0,n.jsx)(s.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+999999},open:el,children:(0,n.jsx)(r.Z,{size:100,variant:"indeterminate"})}),(0,n.jsx)(u.Z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:null==eZ?void 0:eZ.open,autoHideDuration:6e3,onClose:()=>eS({open:!1,type:null==eZ?void 0:eZ.type,message:""}),children:(0,n.jsx)(c.Z,{variant:"filled",severity:null==eZ?void 0:eZ.type,sx:{width:"100%"},children:null==eZ?void 0:eZ.message})})]})}}},function(e){e.O(0,[2834,3003,9663,5551,9952,1050,4515,6058,5595,3105,8709,7030,1423,2888,9774,179],function(){return e(e.s=52910)}),_N_E=e.O()}]);