!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="592a2095-6992-4c79-8704-2d30aacb79fa",e._sentryDebugIdIdentifier="sentry-dbid-592a2095-6992-4c79-8704-2d30aacb79fa")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3383],{44081:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pengaturan/merchant",function(){return n(56720)}])},13425:function(e,a,n){"use strict";n.d(a,{r:function(){return t}});let t=async function(e,a,n,t,l,i){var r,o,d,u,s,c,h,v;arguments.length>6&&void 0!==arguments[6]&&arguments[6];let m=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"string",p=null!==(s=null!==(u=null!==(d=null==a?void 0:null===(r=a.target)||void 0===r?void 0:r.value)&&void 0!==d?d:null==a?void 0:a.value)&&void 0!==u?u:a)&&void 0!==s?s:"";a instanceof Event&&("number"===m||"int"===m||"integer"===m)&&(p=(p=null==(p=""===p.toString()?"0":p.toString())?void 0:p.replace(/\./g,"").replace(/\,/g,""))&&"NaN"!==p&&null!==(c=parseInt(p))&&void 0!==c?c:0),n[e]=p,null==l||l.isValid(n).then(e=>{if(e)i({});else{var a;null==l||null===(a=l.validate(n,{abortEarly:!1}))||void 0===a||a.catch(e=>{var a;let n={};null==e||null===(a=e.inner)||void 0===a||a.map(e=>{var a,t,l,i;n={...n,[null==e?void 0:e.path]:((null==e?void 0:null===(t=e.message)||void 0===t?void 0:null===(a=t.charAt(0))||void 0===a?void 0:a.toUpperCase())+(null==e?void 0:null===(i=e.message)||void 0===i?void 0:null===(l=i.slice(1))||void 0===l?void 0:l.replace(/_([a-z])/g,function(e){var a;return" "+(null===(a=e[1])||void 0===a?void 0:a.toUpperCase())}))).replace("must be less than or equal to","Max.").replace("must be greater than or equal to","Min.")}}),n?i({...n}):i({})})}});let g=null!==(v=null!==(h=null==a?void 0:null===(o=a.target)||void 0===o?void 0:o.value)&&void 0!==h?h:null==a?void 0:a.value)&&void 0!==v?v:a;("number"===m||"int"===m||"integer"===m)&&(g=parseInt(null!=(g=null==(g=(null==g?void 0:g.toString())===""?"0":null==g?void 0:g.toString())?void 0:g.replace(/\./g,"").replace(/\,/g,""))?g:0)),n[e]=g,t({...n})}},56720:function(e,a,n){"use strict";n.r(a);var t=n(85893),l=n(16268),i=n(34934),r=n(80888),o=n(91093),d=n(98163),u=n(73821),s=n(59505),c=n(4466),h=n(72418),v=n(77574),m=n(5307),p=n(62706),g=n(14e3),x=n(94246),_=n(67294),f=n(11163),y=n(14440),b=n(16310),j=n(81354),w=n.n(j),Z=n(98115),S=n(13425);a.default=()=>{var e,a,n;let[j,P]=(0,_.useState)(!1),[C,k]=(0,_.useState)(),[N,O]=(0,_.useState)({id_user:null,merchant_name:"",merchant_address:"",merchant_wa:"",tax_percentage:0}),[E,I]=(0,_.useState)({open:!1,type:"success",message:""}),T=(0,f.useRouter)(),M=b.Ry().shape({id_user:b.Z_(),merchant_name:b.Z_().required(),merchant_address:b.Z_().required(),merchant_wa:b.Z_().required(),tax_percentage:b.Rx().required()}),z=async()=>{var e;P(!0);let a=await (0,Z.Hl)("/api/check-auth");fetch("".concat("https://be.digipayid.com","/auth/check_auth"),{method:"POST",headers:{"x-signature":null==a?void 0:a.signature,"x-timestamp":null==a?void 0:a.timestamp},body:JSON.stringify({email:null===(e=JSON.parse(localStorage.getItem("data-module")))||void 0===e?void 0:e.email})}).then(e=>e.json()).then(async e=>{var a,n;return(null==e?void 0:null===(a=e.auth)||void 0===a?void 0:a.user)===void 0||(null==e?void 0:null===(n=e.auth)||void 0===n?void 0:n.token)===void 0?(T.push("/auth"),!1):e}).then(async e=>{var a,n;let t="/master/user/setting",l=await (0,Z.Hl)(t);fetch("".concat("https://be.digipayid.com").concat(t),{method:"POST",headers:{"x-signature":null==l?void 0:l.signature,"x-timestamp":null==l?void 0:l.timestamp,Authorization:await w().AES.decrypt(null!==(n=null==e?void 0:null===(a=e.auth)||void 0===a?void 0:a.token)&&void 0!==n?n:"","digipay10D3w@").toString(w().enc.Utf8).replace(/\"/g,"")},body:JSON.stringify({id:0})}).then(e=>e.json()).then(e=>{var a,n;e.data.tax_percentage=parseFloat(null!==(n=null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.tax_percentage)&&void 0!==n?n:0),O(null==e?void 0:e.data),P(!1)}).catch(()=>P(!1))}).catch(()=>P(!1))};(0,_.useEffect)(()=>{z()},[]),(0,_.useLayoutEffect)(()=>{localStorage.getItem("data-module")||T.push("/auth")},[]);let D=async function(){var e,a;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0],(null==N?void 0:null===(e=N.merchant_name)||void 0===e?void 0:e.length)<6)return alert("Merchant name must be at least 6 Characters!"),!1;P(!0);let n=await (0,Z.Hl)("/api/check-auth");fetch("".concat("https://be.digipayid.com","/auth/check_auth"),{method:"POST",headers:{"x-signature":null==n?void 0:n.signature,"x-timestamp":null==n?void 0:n.timestamp},body:JSON.stringify({email:null===(a=JSON.parse(localStorage.getItem("data-module")))||void 0===a?void 0:a.email})}).then(e=>e.json()).then(async e=>{var a,n;return(null==e?void 0:null===(a=e.auth)||void 0===a?void 0:a.user)===void 0||(null==e?void 0:null===(n=e.auth)||void 0===n?void 0:n.token)===void 0?(T.push("/auth"),!1):e}).then(async e=>{var a,n;let t="/master/user/update_setting",l=await (0,Z.Hl)(t);fetch("".concat("https://be.digipayid.com").concat(t),{method:"POST",headers:{"x-signature":null==l?void 0:l.signature,"x-timestamp":null==l?void 0:l.timestamp,Authorization:await w().AES.decrypt(null!==(n=null==e?void 0:null===(a=e.auth)||void 0===a?void 0:a.token)&&void 0!==n?n:"","digipay10D3w@").toString(w().enc.Utf8).replace(/\"/g,"")},body:JSON.stringify(N)}).then(e=>e.json()).then(e=>{var a,n;e.data.tax_percentage=parseFloat(null!==(n=null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.tax_percentage)&&void 0!==n?n:0),O(null==e?void 0:e.data),P(!1),I({open:!0,type:"success",message:"Berhasil merubah data merchant."})}).catch(()=>P(!1))}).catch(()=>P(!1))};return(0,t.jsxs)(c.ZP,{container:!0,spacing:6,children:[(0,t.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,t.jsx)(x.Z,{variant:"h5",children:(0,t.jsx)(v.Z,{children:"Pengaturan"})}),(0,t.jsx)(x.Z,{variant:"body2",children:"Pengaturan Merchant yang tersedia"}),(0,t.jsx)(s.Z,{})]}),(0,t.jsx)(c.ZP,{item:!0,xs:12,children:(0,t.jsx)(u.Z,{children:(0,t.jsxs)(y.Z,{sx:{width:"100%",overflow:"auto"},children:[(0,t.jsx)(y.Z,{sx:{p:2},children:(0,t.jsx)(g.Z,{label:"Nama Merchant",variant:"outlined",fullWidth:!0,autoComplete:!1,onChange:e=>(0,S.r)("merchant_name",e,N,O,M,k),value:null==N?void 0:N.merchant_name,error:null==C?void 0:C.merchant_name,helperText:"*Perubahan setelah logout & login ulang! "+(null!==(e=null==C?void 0:C.merchant_name)&&void 0!==e?e:""),inputProps:{autoComplete:"new-password"}})}),(0,t.jsx)(y.Z,{sx:{p:2},children:(0,t.jsx)(g.Z,{id:"merchant_address",name:"merchant_address",label:"Alamat Merchant",variant:"outlined",fullWidth:!0,autoComplete:!1,onChange:e=>(0,S.r)("merchant_address",e,N,O,M,k),value:null==N?void 0:N.merchant_address,error:null==C?void 0:C.merchant_address,helperText:"*Perubahan setelah logout & login ulang! "+(null!==(a=null==C?void 0:C.merchant_address)&&void 0!==a?a:""),inputProps:{autoComplete:"new-password"}})}),(0,t.jsx)(y.Z,{sx:{p:2},children:(0,t.jsx)(g.Z,{id:"merchant_wa",name:"merchant_wa",label:"No. Whatsapp Merchant",variant:"outlined",fullWidth:!0,autoComplete:!1,onChange:e=>(0,S.r)("merchant_wa",e,N,O,M,k),value:null==N?void 0:N.merchant_wa,error:null==C?void 0:C.merchant_wa,helperText:"*Perubahan setelah logout & login ulang! "+(null!==(n=null==C?void 0:C.merchant_wa)&&void 0!==n?n:""),inputProps:{autoComplete:"new-password"}})}),(0,t.jsxs)(y.Z,{sx:{p:2},children:[(0,t.jsx)(h.Z,{id:"demo-simple-select-label",children:"Pajak Penjualan"}),(0,t.jsxs)(p.Z,{label:"Pajak Penjualan",onChange:e=>(0,S.r)("tax_percentage",e,N,O,M,k),value:null==N?void 0:N.tax_percentage,error:null==C?void 0:C.tax_percentage,children:[(0,t.jsx)(m.Z,{value:0,children:"0%"}),(0,t.jsx)(m.Z,{value:10,children:"10%"}),(0,t.jsx)(m.Z,{value:11,children:"11%"})]})]}),(0,t.jsxs)(y.Z,{sx:{p:2},children:[(0,t.jsx)(d.Z,{variant:"contained",sx:{mr:35,mt:10},onClick:()=>D(!0),children:"Simpan"}),(0,t.jsx)(d.Z,{variant:"contained",color:"warning",sx:{mr:35,mt:10},onClick:()=>T.push("/master/metode-pembayaran"),children:"Pengaturan Metode Pembayaran"}),(0,t.jsx)(d.Z,{sx:{mr:35,mt:10},color:"error",variant:"contained",onClick:()=>T.push("/master/user"),children:"Pengaturan User"})]})]})})}),(0,t.jsx)(l.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+999999},open:j,children:(0,t.jsx)(i.Z,{size:100,variant:"indeterminate"})}),(0,t.jsx)(r.Z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:null==E?void 0:E.open,autoHideDuration:3e3,onClose:()=>I({open:!1,type:null==E?void 0:E.type,message:""}),children:(0,t.jsx)(o.Z,{variant:"filled",severity:null==E?void 0:E.type,sx:{width:"100%"},children:null==E?void 0:E.message})})]})}}},function(e){e.O(0,[2834,9663,6310,8709,8952,2888,9774,179],function(){return e(e.s=44081)}),_N_E=e.O()}]);