import{jsx as e,jsxs as t}from"react/jsx-runtime";import{useCallback as n,useEffect as r,useState as o,Fragment as i}from"react";import a from"@mui/material/TextField";var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)};function l(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}"function"==typeof SuppressedError&&SuppressedError;var c=function(e){var t=e.enable,r=e.selector,o=void 0===r?"otp-container":r;return{focus:n((function(e){if(t){var n=document.getElementById(o),r=null==n?void 0:n.querySelectorAll("input");if(r){var i=r[e];i&&i.focus()}}}),[])}},p=function(e){var t=l(e,[]),n=c(u({},t)).focus;r((function(){n(0)}),[])};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("/* Chrome, Safari, Edge, Opera */\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n\r\n/* Firefox */\r\ninput[type=number] {\r\n  -moz-appearance: textfield;\r\n}");var s=function(e,t,n){var r=e.split("");return r[n]=t,r.join("")},f=function(e,t){return e?!isNaN(Number(t)):"string"==typeof t},d=function(e){return e.split("")},v=function(e,t){return d(t).filter((function(t){return f(e,t)})).join("")},y=function(t){var n=t.value,r=t.handleChange,o=t.handlePaste,i=t.index,p=t.inputProps,s=l(t,["value","handleChange","handlePaste","index","inputProps"]),d=s.type,y=c({enable:!0}).focus,m="number"===d||"tel"===d;function h(e){e.preventDefault();var t=e.target;t.type="text",t.select(),t.type=d}return e(a,u({autoComplete:"one-time-code",value:null!=n?n:"",className:"no-spinners",onChange:function(e){var t=e.target.value;f(m,t)&&r(t,i,!!t)}},s,{onPaste:function(e){var t;e.preventDefault();var n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text");if(n){var r=v(m,n);r.length>0&&o(r)}},onFocus:function(e){e.preventDefault();var t=e.target;t.type="text",t.select(),t.type=d},onKeyDown:function(e){return["Minus","Period"].includes(e.code)&&m&&e.preventDefault(),["ArrowUp","ArrowDown"].includes(e.code)&&e.preventDefault(),"ArrowRight"===e.key?(h(e),y(i+1)):"ArrowLeft"===e.key?(h(e),y(i-1)):"Backspace"!==e.key||""!==n&&void 0!==n?void 0:y(i-1)},inputMode:"number"===d?"numeric":"text",inputProps:u(u({},p),{style:u({textAlign:"center"},null==p?void 0:p.style)})}))},m=function(n){var r=n.length,a=n.value,l=void 0===a?"":a,f=n.onChange,d=n.onComplete,m=n.seperator,h=n.containerStyles,g=n.MuiTextFieldProps,b=n.enableFocus,x=void 0===b||b,w=n.type,O=void 0===w?"text":w,P=o(v("number"===O,l.toString())),C=P[0],S=P[1];p({enable:x});var j=c({enable:x}).focus;function D(e,t,n){var r;e=null!==(r=e.slice(-1))&&void 0!==r?r:"";var o=s(C,e,t);S(o);var i=n?o.length:(null==o?void 0:o.length)-1;j(i),k(o)}function A(e){var t=e.slice(0,r);S(t),k(t)}function k(e){f&&f(e),e.length===r&&d&&d(e)}return e("div",{id:"otp-container",style:u(u({},h),{display:"flex",gap:"4px",alignItems:"center"}),children:Array.from({length:r}).map((function(n,o){return t(i,{children:[e(y,u({},g,{index:o,handleChange:D,handlePaste:A,value:C[o],type:O})),o!==r-1&&m]},o)}))})};export{m as MuiOtp,v as getValidCharacters,f as isValid,s as mutateString,d as split,c as useFocus,p as useInitialFocus};
